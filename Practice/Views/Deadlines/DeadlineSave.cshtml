@model DeadlinesSaveViewModel


<div class="col-sm-12 col-xl-6 w-100">
    <div class="bg-secondary rounded h-100 p-4">
            <h6 class="mb-4">@ViewBag.tableName</h6>
            <form asp-controller="Deadlines" asp-action="DeadlineSave" method="post">
                <input asp-for="Id" hidden/>
                <div asp-validation-summary="All"></div>
                <div class="form-floating mb-3"  aria-label=".form-select-sm example">
                    <select class="form-select" id="floatingSelect" aria-label="Floating label select example" asp-for="TeamId">
                        @{
                            foreach (Theme theme in ViewBag.themes)
                            {
                            if (theme.Id == ViewBag.deadlineTeamId)
                                {
                                    <option selected value="@theme.Teams.FirstOrDefault().Id">
                                        @theme.ThemeFormulation
                                    </option>
                                }
                                else
                                {
                                    <option value="@theme.Teams.FirstOrDefault().Id">
                                        @theme.ThemeFormulation
                                    </option>
                                }
                            }
                        }
                    </select>
                    <label for="floatingSelect">Команда:</label>
                </div>

                <div class="form-floating mb-3">
                    <input type="date" class="form-control" id="floatingInput" placeholder="Введите дату дедлайна!" asp-for="DealineDate">
                    <label for="floatingInput" asp-for="DealineDate"></label>
                </div>

                <div class="form-floating mb-3">
                    <input class="form-control" id="floatingInput" placeholder="Введите комментарий к дедлайну!" asp-for="Commentary">
                    <label for="floatingInput" asp-for="Commentary"></label>
                </div>

                <div class="form-floating mb-3"  aria-label=".form-select-sm example">
                    <select class="form-select" id="floatingSelect" aria-label="Floating label select example" asp-for="AttendanceMark">
                        @{
                            if(Model.AttendanceMark == -1)
                            {
                                <option selected>Нет</option>
                            }
                            else
                            {
                                <option>Нет</option>
                            }
                            if (Model.AttendanceMark == 0)
                            {
                                <option selected value="0">Выполняется</option>
                            }
                            else
                            {
                                <option value="0">Выполняется</option>
                            }
                            if (Model.AttendanceMark == 1)
                            {
                                <option selected value="1">Сдан</option>
                            }
                            else
                            {
                                <option value="1">Сдан</option>
                            }
                            if (Model.AttendanceMark == 2)
                            {
                                <option selected value="2">Доделывается</option>
                            }
                            else
                            {
                                <option value="2">Доделывается</option>
                            }
                            if (Model.AttendanceMark == 3)
                            {
                                <option selected value="3">Просрочен</option>
                            }
                            else
                            {
                                <option value="3">Просрочен</option>
                            }
                        }
                    </select>
                    <label for="floatingSelect">Статус дедлайна:</label>
                </div>
                <button class="btn btn-sm btn-primary">Сохранить</button>
                <button class="btn btn-sm btn-primary" data-bs-dismiss="modal">Отменить</button>
            </form>
    </div>
</div>
